<template>
    <div class="input__container">
        <svg v-if="icon === 'user'"
             width="30"
             height="30"
             viewBox="0 0 30 30"
             fill="none"
             xmlns="http://www.w3.org/2000/svg">
            <path d="M15 15C18.1066 15 20.625 12.4816 20.625 9.375C20.625 6.2684 18.1066 3.75 15 3.75C11.8934 3.75 9.375 6.2684 9.375 9.375C9.375 12.4816 11.8934 15 15 15ZM18.75 9.375C18.75 11.4461 17.0711 13.125 15 13.125C12.9289 13.125 11.25 11.4461 11.25 9.375C11.25 7.30393 12.9289 5.625 15 5.625C17.0711 5.625 18.75 7.30393 18.75 9.375Z"
                  fill="#2D31A6"
                  fill-opacity="0.2" />
            <path d="M26.25 24.375C26.25 26.25 24.375 26.25 24.375 26.25H5.625C5.625 26.25 3.75 26.25 3.75 24.375C3.75 22.5 5.625 16.875 15 16.875C24.375 16.875 26.25 22.5 26.25 24.375ZM24.375 24.3685C24.3723 23.9057 24.0867 22.5196 22.8148 21.2477C21.5918 20.0247 19.2921 18.75 15 18.75C10.7079 18.75 8.40816 20.0247 7.18518 21.2477C5.91329 22.5196 5.62767 23.9057 5.625 24.3685H24.375Z"
                  fill="#2D31A6"
                  fill-opacity="0.2" />
        </svg>


        <svg v-if="icon === 'email'"
             width="30"
             height="23"
             viewBox="0 0 30 23"
             fill="none"
             xmlns="http://www.w3.org/2000/svg">
            <path d="M0 4C0 1.92893 1.67893 0.25 3.75 0.25H26.25C28.3211 0.25 30 1.92893 30 4V19C30 21.0711 28.3211 22.75 26.25 22.75H3.75C1.67893 22.75 0 21.0711 0 19V4ZM3.75 2.125C2.71447 2.125 1.875 2.96447 1.875 4V4.4067L15 12.2817L28.125 4.4067V4C28.125 2.96447 27.2855 2.125 26.25 2.125H3.75ZM28.125 6.5933L19.2974 11.8899L28.125 17.3223V6.5933ZM28.0617 19.4849L17.4859 12.9767L15 14.4683L12.5141 12.9767L1.93831 19.4849C2.15202 20.2854 2.88216 20.875 3.75 20.875H26.25C27.1178 20.875 27.848 20.2854 28.0617 19.4849ZM1.875 17.3223L10.7026 11.8899L1.875 6.5933V17.3223Z"
                  fill="#2D31A6"
                  fill-opacity="0.2" />
        </svg>

        <svg v-if="icon === 'shield'"
             width="30"
             height="30"
             viewBox="0 0 30 30"
             fill="none"
             xmlns="http://www.w3.org/2000/svg">
            <path d="M2.54417 6.5217C1.75527 13.9622 4.17467 19.512 7.08656 23.2301C8.59187 25.1521 10.2279 26.5846 11.6198 27.5426C12.3153 28.0213 12.9598 28.3885 13.5072 28.6399C14.0129 28.8723 14.554 29.0625 15.0001 29.0625C15.4462 29.0625 15.9873 28.8723 16.493 28.6399C17.0404 28.3885 17.6849 28.0213 18.3804 27.5426C19.254 26.9414 20.2237 26.1532 21.1969 25.1744L19.8711 23.8486C18.9815 24.7437 18.1003 25.4592 17.3173 25.9981C16.6941 26.4271 16.1431 26.7373 15.7102 26.9362C15.4935 27.0358 15.3162 27.1029 15.1816 27.1436C15.0707 27.1771 15.0136 27.185 15.0001 27.1869C14.9865 27.185 14.9295 27.1771 14.8186 27.1436C14.684 27.1029 14.5067 27.0358 14.29 26.9362C13.857 26.7373 13.3061 26.4271 12.6829 25.9981C11.4374 25.1409 9.94347 23.8369 8.56272 22.074C6.11598 18.9498 4.02171 14.3841 4.29191 8.26945L2.54417 6.5217Z"
                  fill="#2D31A6"
                  fill-opacity="0.2" />
            <path d="M23.2678 19.2904C25.0895 15.9433 26.2576 11.5103 25.4949 5.92333C25.4523 5.61182 25.2259 5.33921 24.9033 5.23649C23.731 4.86313 21.7503 4.25136 19.7944 3.7339C17.7947 3.20482 15.9561 2.8125 15.0001 2.8125C14.044 2.8125 12.2055 3.20482 10.2058 3.7339C9.54719 3.90814 8.8858 4.09307 8.2534 4.27599L6.74325 2.76583C7.66485 2.49032 8.6975 2.19343 9.72619 1.92126C11.6816 1.40392 13.7583 0.9375 15.0001 0.9375C16.2419 0.9375 18.3186 1.40392 20.274 1.92126C22.2733 2.45022 24.2875 3.07255 25.4723 3.44991C26.4611 3.76483 27.209 4.61764 27.3526 5.6697C28.2115 11.9602 26.7922 16.9481 24.6448 20.6674L23.2678 19.2904Z"
                  fill="#2D31A6"
                  fill-opacity="0.2" />
            <path fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M25.5872 26.9129L1.21216 2.53787L2.53798 1.21204L26.913 25.587L25.5872 26.9129Z"
                  fill="#2D31A6"
                  fill-opacity="0.2" />
        </svg>


        <input class="input"
               :type="visibleRef ? 'text' : 'password'"
               :placeholder="placeholder"
               :value="modelValue"
               @input="updateValue($event)">

        <div>
            <svg v-if="eye"
                 class="eye"
                 width="30"
                 height="31"
                 viewBox="0 0 30 31"
                 fill="none"
                 xmlns="http://www.w3.org/2000/svg"
                 @click="visibleRef = !visibleRef">
                <path d="M25.0479 21.5704C28.2399 18.7268 30 15.4999 30 15.4999C30 15.4999 24.375 5.18745 15 5.18745C13.0962 5.18745 11.347 5.61274 9.76813 6.29058L11.2135 7.73596C12.3934 7.31215 13.6583 7.06245 15 7.06245C18.9738 7.06245 22.2731 9.25279 24.6898 11.6695C25.8819 12.8616 26.8085 14.0598 27.4364 14.9607C27.5727 15.1564 27.6945 15.3372 27.8012 15.4999C27.6945 15.6627 27.5727 15.8435 27.4364 16.0392C26.8085 16.9401 25.8819 18.1383 24.6898 19.3304C24.3808 19.6394 24.0573 19.9447 23.7198 20.2423L25.0479 21.5704Z"
                      fill="#2D31A6"
                      fill-opacity="0.2" />
                <path d="M21.1828 17.7052C21.4286 17.016 21.5625 16.2736 21.5625 15.4999C21.5625 11.8756 18.6244 8.93745 15 8.93745C14.2263 8.93745 13.484 9.07132 12.7947 9.31718L14.3366 10.859C14.5533 10.8283 14.7748 10.8124 15 10.8124C17.5888 10.8124 19.6875 12.9111 19.6875 15.4999C19.6875 15.7251 19.6716 15.9466 19.6409 16.1634L21.1828 17.7052Z"
                      fill="#2D31A6"
                      fill-opacity="0.2" />
                <path d="M15.6635 20.1409L17.2053 21.6827C16.5161 21.9286 15.7737 22.0624 15 22.0624C11.3756 22.0624 8.4375 19.1243 8.4375 15.4999C8.4375 14.7263 8.57138 13.9839 8.81724 13.2946L10.3591 14.8365C10.3284 15.0532 10.3125 15.2747 10.3125 15.4999C10.3125 18.0888 12.4112 20.1874 15 20.1874C15.2252 20.1874 15.4467 20.1716 15.6635 20.1409Z"
                      fill="#2D31A6"
                      fill-opacity="0.2" />
                <path d="M6.2802 10.7576C5.94273 11.0551 5.61925 11.3605 5.3102 11.6695C4.11808 12.8616 3.19155 14.0598 2.56364 14.9607C2.42726 15.1564 2.30555 15.3372 2.19881 15.4999C2.30555 15.6627 2.42726 15.8435 2.56364 16.0392C3.19155 16.9401 4.11808 18.1383 5.3102 19.3304C7.72693 21.7471 11.0262 23.9374 15 23.9374C16.3418 23.9374 17.6066 23.6877 18.7865 23.2639L20.2319 24.7093C18.6531 25.3872 16.9039 25.8124 15 25.8124C5.625 25.8124 0 15.4999 0 15.4999C0 15.4999 1.76009 12.2731 4.95209 9.42949L6.2802 10.7576Z"
                      fill="#2D31A6"
                      fill-opacity="0.2" />
                <path d="M25.5871 27.4129L3.08709 4.91286L4.41291 3.58704L26.9129 26.087L25.5871 27.4129Z"
                      fill="#2D31A6"
                      fill-opacity="0.2" />
            </svg>
        </div>
    </div>
</template>

<script lang="ts" setup>

interface Props {
    modelValue: String;
    placeholder: String;
    eye?: Boolean;
    icon: String;
}
const props: Props = defineProps<Props>()
const emit = defineEmits(['update:modelValue'])

const updateValue = (event) => {
    emit('update:modelValue', event.target.value)
}

const visibleRef = ref(true)
</script>

<style scoped>
.input__container {
    margin-bottom: 10px;
    position: relative;
    width: 453px;
    height: 64px;
    background: #8098F91A;
    border-radius: 10px;
    border: 2px solid #8098F980;
    display: flex;
    align-items: center;
    padding: 10px 20px 10px 10px;
    gap: 10px;
    justify-content: space-between;

    .input {
        background: transparent;
        width: 370px;
        font-family: Inter, sans-serif;
        font-size: 18px;
        font-weight: 400;
        line-height: 20px;
        text-align: left;
        opacity: 50%;

        &:focus {
            outline: none;
        }
    }

    .eye {
        cursor: pointer;
    }
}
</style>